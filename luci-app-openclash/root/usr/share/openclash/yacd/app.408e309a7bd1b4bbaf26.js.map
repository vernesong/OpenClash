{"version":3,"sources":["webpack://yacd/./src/api/configs.ts","webpack://yacd/./src/api/connections.ts","webpack://yacd/./src/api/traffic.ts","webpack://yacd/./src/api/version.ts","webpack://yacd/./src/components/about/About.module.css?d14c","webpack://yacd/./src/components/about/About.tsx","webpack://yacd/./src/components/shared/Head.tsx","webpack://yacd/./src/store/index.ts","webpack://yacd/./src/hooks/basic.ts","webpack://yacd/./src/components/BackendList.module.css?5bc9","webpack://yacd/./src/components/BackendList.tsx","webpack://yacd/./src/components/APIConfig.module.css?c176","webpack://yacd/./src/components/Field.module.css?21e7","webpack://yacd/./src/components/Field.tsx","webpack://yacd/./src/components/APIConfig.tsx","webpack://yacd/./src/misc/errors.ts","webpack://yacd/./src/components/APIDiscovery.module.css?2560","webpack://yacd/./src/components/Modal.tsx","webpack://yacd/./src/components/APIDiscovery.tsx","webpack://yacd/./src/components/ErrorBoundaryFallback.module.css?d55c","webpack://yacd/./src/components/SvgGithub.tsx","webpack://yacd/./src/components/ErrorBoundaryFallback.tsx","webpack://yacd/./src/components/ErrorBoundary.tsx","webpack://yacd/./src/components/Home.module.css?9857","webpack://yacd/./src/components/Loading.module.css?820a","webpack://yacd/./src/components/Loading.tsx","webpack://yacd/./src/components/TrafficChart.tsx","webpack://yacd/./src/components/TrafficNow.module.css?e26a","webpack://yacd/./src/components/TrafficNow.tsx","webpack://yacd/./src/components/Home.tsx","webpack://yacd/./src/components/Loading2.module.css?e949","webpack://yacd/./src/components/Loading2.tsx","webpack://yacd/./src/components/Root.module.css?6f8e","webpack://yacd/./src/components/SideBar.module.css?e4c9","webpack://yacd/./src/components/SideBar.tsx","webpack://yacd/./src/components/StyleGuide.tsx","webpack://yacd/./src/components/Root.tsx","webpack://yacd/./src/swRegistration.ts","webpack://yacd/./src/app.tsx","webpack://yacd/./src/components/Button.module.css?8812","webpack://yacd/./src/components/Button.tsx","webpack://yacd/./src/components/ContentHeader.module.css?8f18","webpack://yacd/./src/components/ContentHeader.tsx","webpack://yacd/./src/components/Input.module.css?0c7c","webpack://yacd/./src/components/Input.tsx","webpack://yacd/./src/components/StateProvider.tsx","webpack://yacd/./src/components/SvgYacd.module.css?a398","webpack://yacd/./src/components/SvgYacd.tsx","webpack://yacd/./src/components/SwitchThemed.tsx","webpack://yacd/./src/components/ToggleSwitch.module.css?f7c7","webpack://yacd/./src/components/ToggleSwitch.tsx","webpack://yacd/./src/components/shared/Basic.module.css?f416","webpack://yacd/./src/components/shared/Basic.tsx","webpack://yacd/./src/hooks/useLineChart.ts","webpack://yacd/./src/misc/chart.ts","webpack://yacd/./src/misc/motion.ts","webpack://yacd/./src/misc/createResource.ts","webpack://yacd/./src/misc/pretty-bytes.ts","webpack://yacd/./src/misc/request-helper.ts","webpack://yacd/./src/misc/utils.ts","webpack://yacd/./src/misc/storage.ts","webpack://yacd/./src/store/app.ts","webpack://yacd/./src/store/configs.ts","webpack://yacd/./src/store/logs.ts","webpack://yacd/./src/store/modals.ts","webpack://yacd/./src/api/proxies.ts","webpack://yacd/./src/store/proxies.tsx","webpack://yacd/./src/components/Modal.module.css?2f6d","webpack://yacd/webpack/runtime/startup prefetch"],"names":["endpoint","fetchConfigs","apiConfig","getURLAndInit","url","init","fetch","configsPatchWorkaround","o","updateConfigs","body","JSON","stringify","method","wsState","subscribers","fetchData","listener","subscribe","buildWebSocketURL","ws","WebSocket","addEventListener","event","s","parse","err","console","log","forEach","f","appendData","data","push","idx","indexOf","splice","closeAllConnections","fetchConns","closeConnById","id","baseURL","textDecoder","TextDecoder","Size","traffic","labels","Array","up","down","size","this","t","Date","l","getMinutes","getSeconds","length","shift","fetched","decoded","parseAndAppend","x","pump","reader","read","then","done","value","str","decode","stream","splits","split","lastSplit","i","_ev","response","ok","getReader","fetchDataWithFetch","fetchVersion","json","res","Version","name","link","version","className","href","target","rel","About","connect","getClashAPIConfig","props","useQuery","suspense","ContentHeader","title","__VERSION__","Head","URL","host","e","Helmet","initialState","app","modals","configs","proxies","logs","actions","selectChartStyleIndex","updateAppConfig","updateCollapsibleIsOpen","removeClashAPIConfig","selectClashAPIConfig","proxiesActions","useState","React","useCallback","BackendList","apiConfigs","getClashAPIConfigs","selectedClashAPIConfigIndex","getSelectedClashAPIConfigIndex","useStoreActions","onRemove","conf","onSelect","map","item","cx","secret","Item","disableRemove","isOn","setState","toggle","useToggle","show","Icon","EyeOff","Eye","handleTap","stopPropagation","Button","disabled","onClick","tabIndex","role","onKeyUp","children","Field","label","onChange","valueOnChange","labelClassName","htmlFor","useRef","dispatch","setBaseURL","setSecret","errMsg","setErrMsg","userTouchedFlagRef","contentEl","handleInputOnChange","current","Error","onConfirm","verify","ret","addClashAPIConfig","handleContentOnKeyDown","Element","tagName","toUpperCase","key","s0","ref","onKeyDown","SvgYacd","width","height","type","style","prefix","substring","status","statusText","errors","message","detail","default","ModalAPIConfig","isOpen","onRequestClose","overlayClassName","otherProps","contentCls","overlayCls","useEffect","window","code","closeApiConfigModal","closeModal","Modal","shouldCloseOnOverlayClick","shouldCloseOnEsc","SvgGithub","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","error","state","chartWrapperStyle","position","maxWidth","selectedChartStyleIndex","getSelectedChartStyleIndex","Chart","chartJSResource","useMemo","datasets","commonDataSetProps","chartStyles","useLineChart","upStr","downStr","speed","setSpeed","prettyBytes","useSpeed","upTotal","dlTotal","connNumber","downloadTotal","uploadTotal","connections","connAPI","useConnection","Home","TrafficNow","Suspense","fallback","TrafficChart","animate","c0","c1","icons","activity","FcAreaChart","globe","FcGlobe","command","FcRuler","file","FcDocument","settings","FcSettings","FcLink","SideBarRow","isActive","to","iconId","labelText","Comp","pages","MoonA","motion","framerMotionResouce","path","initial","rotate","transition","duration","Sun","cy","r","g","scale","x1","y1","x2","y2","theme","getTheme","location","useLocation","switchThemeHooked","switchTheme","pathname","aria-label","noop","paneStyle","padding","optionsRule","Pane","SwitchExample","onoff","setonoff","handleChange","checked","SwitchThemed","PureComponent","Connections","lazy","Config","Logs","Proxies","Rules","routes","element","filter","Boolean","RouteInnerApp","useRoutes","SideBarApp","Loading2","App","StateProvider","isLocalhost","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","rootEl","document","getElementById","ReactDOM","render","process","origin","headers","contentType","get","ready","unregister","reload","checkValidServiceWorker","swRegistration","forwardRef","ButtonInternal","text","start","isLoading","kind","restProps","internalProps","internalOnClick","btnClassName","display","opacity","Input","SelfControlledInput","internalValue","setInternalValue","refValue","immer","createContext","memo","useContext","StateContext","DispatchContext","ActionsContext","Provider","stateRef","getState","actionId","fn","stateNext","produce","boundActions","bindActions","mapStateToProps","Component","MemoComponent","mapped","nextProps","bindAction","action","args","apply","faceClasName","fillRule","offColor","uncheckedIcon","checkedIcon","onColor","offHandleColor","onHandleColor","handleDiameter","ToggleSwitch","options","idxSelected","getPortionPercentage","w","Math","floor","sliderStyle","left","SectionNameType","LoadingDot","commonChartOptions","elementId","subscription","extraChartOptions","ctx","getContext","c","unsubscribe","update","destroy","createResource","borderWidth","lineTension","pointRadius","responsive","maintainAspectRatio","legend","fontColor","boxWidth","tooltips","enabled","mode","intersect","animationDuration","hover","scales","xAxes","gridLines","yAxes","color","borderDash","drawBorder","ticks","callback","backgroundColor","borderColor","getPromise","cache","inflight","load","val","preload","undefined","clear","UNITS","n","exponent","min","log10","Number","pow","toPrecision","headersCommon","genCommonHeaders","h","qs","encodeURIComponent","protocol","trimTrailingSlash","debounce","timeout","timeoutId","clearTimeout","setTimeout","replace","StorageKey","saveState","serialized","localStorage","setItem","clashAPIConfigs","getLatencyTestUrl","latencyTestUrl","getCollapsibleIsOpen","collapsibleIsOpen","getProxySortBy","proxySortBy","getHideUnavailableProxies","hideUnavailableProxies","getAutoCloseOldConns","autoCloseOldConns","saveStateDebounced","findClashAPIConfigIndex","arr","clashAPIConfig","addedAt","now","slice","bodyElement","setTheme","classList","remove","add","v","defaultState","getItem","loadState","query","search","collector","k","parseConfigQueryString","port","getConfigs","getLogLevel","configsAPI","openModal","payload","haveFetchedConfig","trafficAPI","partialConfg","getLogs","getTail","tail","getSearchText","searchText","getLogsForDisplay","createSelector","LogSize","toLowerCase","updateSearchText","appendLog","tailCurr","modalName","fetchProxies","requestToSwitchProxy","name1","name2","fullURL","requestDelayForProxy","fetchProviderProxies","providers","updateProviderByName","healthcheckProviderByName","delay","groupNames","showModalClosePrevConns","NonProxyTypes","getProxies","getDelay","getProxyGroupNames","getProxyProviders","proxyProviders","getDangleProxyNames","dangleProxyNames","getShowModalClosePrevConns","Promise","all","proxiesAPI","proxiesData","providersData","formatProxyProviders","providerProxies","retrieveGroupNamesFrom","proxyNames","delayPrev","delayNext","history","number","healthcheckProviderByNameInternal","groupName","exceptionItemName","idsToClose","conn","chains","switchProxyImpl","itemName","closePrevConns","closeModalClosePrevConns","switchTo","chain","child","childKey","unshift","resolveChain","closeGroupConns","switchProxy","requestDelayForProxyOnce","requestDelayAll","p","globalAll","prop","isArray","sort","a","b","group","providersInput","keys","Object","provider","vehicleType","proxiesArr","names","j","proxy","requestDelayForProxies","works","closePrevConnsAndTheModal","switchProxyCtx","proxyFilterText","atom","startup","__webpack_require__","result","E"],"mappings":"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","file":"app.408e309a7bd1b4bbaf26.js","sourcesContent":["import { getURLAndInit } from 'src/misc/request-helper';\nimport { ClashGeneralConfig } from 'src/store/types';\nimport { ClashAPIConfig } from 'src/types';\n\nconst endpoint = '/configs';\n\nexport async function fetchConfigs(apiConfig: ClashAPIConfig) {\n  const { url, init } = getURLAndInit(apiConfig);\n  return await fetch(url + endpoint, init);\n}\n\n// TODO support PUT /configs\n// req body\n// { Path: string }\n\ntype ClashConfigPartial = Partial<ClashGeneralConfig>;\nfunction configsPatchWorkaround(o: ClashConfigPartial) {\n  // backward compatibility for older clash  using `socket-port`\n  if ('socks-port' in o) {\n    o['socket-port'] = o['socks-port'];\n  }\n  return o;\n}\n\nexport async function updateConfigs(\n  apiConfig: ClashAPIConfig,\n  o: ClashConfigPartial\n) {\n  const { url, init } = getURLAndInit(apiConfig);\n  const body = JSON.stringify(configsPatchWorkaround(o));\n  return await fetch(url + endpoint, { ...init, body, method: 'PATCH' });\n}\n","import { ClashAPIConfig } from 'src/types';\n\nimport { buildWebSocketURL, getURLAndInit } from '../misc/request-helper';\n\nconst endpoint = '/connections';\n\nconst fetched = false;\nconst subscribers = [];\n\n// see also https://github.com/Dreamacro/clash/blob/dev/constant/metadata.go#L41\ntype UUID = string;\ntype ConnNetwork = 'tcp' | 'udp';\ntype ConnType = 'HTTP' | 'HTTP Connect' | 'Socks5' | 'Redir' | 'Unknown';\nexport type ConnectionItem = {\n  id: UUID;\n  metadata: {\n    network: ConnNetwork;\n    type: ConnType;\n    sourceIP: string;\n    destinationIP: string;\n    sourcePort: string;\n    destinationPort: string;\n    host: string;\n  };\n  upload: number;\n  download: number;\n  // e.g. \"2019-11-30T22:48:13.416668+08:00\",\n  start: string;\n  chains: string[];\n  // e.g. 'Match', 'DomainKeyword'\n  rule: string;\n};\ntype ConnectionsData = {\n  downloadTotal: number;\n  uploadTotal: number;\n  connections: Array<ConnectionItem>;\n};\n\nfunction appendData(s: string) {\n  let o: ConnectionsData;\n  try {\n    o = JSON.parse(s);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.log('JSON.parse error', JSON.parse(s));\n  }\n  subscribers.forEach((f) => f(o));\n}\n\ntype UnsubscribeFn = () => void;\n\nlet wsState: number;\nexport function fetchData(\n  apiConfig: ClashAPIConfig,\n  listener: unknown\n): UnsubscribeFn | void {\n  if (fetched || wsState === 1) {\n    if (listener) return subscribe(listener);\n  }\n  wsState = 1;\n  const url = buildWebSocketURL(apiConfig, endpoint);\n  const ws = new WebSocket(url);\n  ws.addEventListener('error', () => (wsState = 3));\n  ws.addEventListener('message', (event) => appendData(event.data));\n  if (listener) return subscribe(listener);\n}\n\nfunction subscribe(listener: unknown): UnsubscribeFn {\n  subscribers.push(listener);\n  return function unsubscribe() {\n    const idx = subscribers.indexOf(listener);\n    subscribers.splice(idx, 1);\n  };\n}\n\nexport async function closeAllConnections(apiConfig: ClashAPIConfig) {\n  const { url, init } = getURLAndInit(apiConfig);\n  return await fetch(url + endpoint, { ...init, method: 'DELETE' });\n}\n\nexport async function fetchConns(apiConfig: ClashAPIConfig) {\n  const { url, init } = getURLAndInit(apiConfig);\n  return await fetch(url + endpoint, { ...init });\n}\n\nexport async function closeConnById(apiConfig: ClashAPIConfig, id: string) {\n  const { url: baseURL, init } = getURLAndInit(apiConfig);\n  const url = `${baseURL}${endpoint}/${id}`;\n  return await fetch(url, { ...init, method: 'DELETE' });\n}\n","import { buildWebSocketURL, getURLAndInit } from '../misc/request-helper';\nconst endpoint = '/traffic';\nconst textDecoder = new TextDecoder('utf-8');\n\nconst Size = 150;\n\nconst traffic = {\n  labels: Array(Size),\n  // labels: [],\n  up: Array(Size),\n  down: Array(Size),\n\n  size: Size,\n  subscribers: [],\n  appendData(o) {\n    this.up.push(o.up);\n    this.down.push(o.down);\n    const t = new Date();\n    const l = '' + t.getMinutes() + t.getSeconds();\n    this.labels.push(l);\n    if (this.up.length > this.size) this.up.shift();\n    if (this.down.length > this.size) this.down.shift();\n    if (this.labels.length > this.size) this.labels.shift();\n\n    this.subscribers.forEach((f) => f(o));\n  },\n\n  subscribe(listener) {\n    this.subscribers.push(listener);\n    return () => {\n      const idx = this.subscribers.indexOf(listener);\n      this.subscribers.splice(idx, 1);\n    };\n  },\n};\n\nlet fetched = false;\nlet decoded = '';\n\nfunction parseAndAppend(x) {\n  traffic.appendData(JSON.parse(x));\n}\n\nfunction pump(reader) {\n  return reader.read().then(({ done, value }) => {\n    const str = textDecoder.decode(value, { stream: !done });\n    decoded += str;\n\n    const splits = decoded.split('\\n');\n\n    const lastSplit = splits[splits.length - 1];\n\n    for (let i = 0; i < splits.length - 1; i++) {\n      parseAndAppend(splits[i]);\n    }\n\n    if (done) {\n      parseAndAppend(lastSplit);\n      decoded = '';\n\n      // eslint-disable-next-line no-console\n      console.log('GET /traffic streaming done');\n      fetched = false;\n      return;\n    } else {\n      decoded = lastSplit;\n    }\n    return pump(reader);\n  });\n}\n\n// 1 OPEN\n// other value CLOSED\n// similar to ws readyState but not the same\n// https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/readyState\nlet wsState;\nfunction fetchData(apiConfig) {\n  if (fetched || wsState === 1) return traffic;\n  wsState = 1;\n  const url = buildWebSocketURL(apiConfig, endpoint);\n  const ws = new WebSocket(url);\n  ws.addEventListener('error', function (_ev) {\n    wsState = 3;\n  });\n  ws.addEventListener('close', function (_ev) {\n    wsState = 3;\n    fetchDataWithFetch(apiConfig);\n  });\n  ws.addEventListener('message', function (event) {\n    parseAndAppend(event.data);\n  });\n  return traffic;\n}\n\nfunction fetchDataWithFetch(apiConfig) {\n  if (fetched) return traffic;\n  fetched = true;\n  const { url, init } = getURLAndInit(apiConfig);\n  fetch(url + endpoint, init).then(\n    (response) => {\n      if (response.ok) {\n        const reader = response.body.getReader();\n        pump(reader);\n      } else {\n        fetched = false;\n      }\n    },\n    (err) => {\n      // eslint-disable-next-line no-console\n      console.log('fetch /traffic error', err);\n      fetched = false;\n    }\n  );\n  return traffic;\n}\n\nexport { fetchData };\n","import { getURLAndInit } from 'src/misc/request-helper';\nimport { ClashAPIConfig } from 'src/types';\n\ntype VersionData = {\n  version?: string;\n  premium?: boolean;\n};\n\nexport async function fetchVersion(\n  endpoint: string,\n  apiConfig: ClashAPIConfig\n): Promise<VersionData> {\n  let json = {};\n  try {\n    const { url, init } = getURLAndInit(apiConfig);\n    const res = await fetch(url + endpoint, init);\n    if (res.ok) {\n      json = await res.json();\n    }\n  } catch (err) {\n    // log and ignore\n    // eslint-disable-next-line no-console\n    console.log(`failed to fetch ${endpoint}`, err);\n  }\n  return json;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"cHbZy_rAHf\",\"mono\":\"_2SNe_x81Ib\",\"link\":\"LUI6m76ply\"};","import * as React from 'react';\nimport { GitHub } from 'react-feather';\nimport { useQuery } from 'react-query';\nimport { fetchVersion } from 'src/api/version';\nimport ContentHeader from 'src/components/ContentHeader';\nimport { connect } from 'src/components/StateProvider';\nimport { getClashAPIConfig } from 'src/store/app';\nimport { ClashAPIConfig } from 'src/types';\n\nimport s from './About.module.css';\n\ntype Props = { apiConfig: ClashAPIConfig };\n\nfunction Version({\n  name,\n  link,\n  version,\n}: {\n  name: string;\n  link: string;\n  version: string;\n}) {\n  return (\n    <div className={s.root}>\n      <h2>{name}</h2>\n      <p>\n        <span>Version </span>\n        <span className={s.mono}>{version}</span>\n      </p>\n      <p>\n        <a\n          className={s.link}\n          href={link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <GitHub size={20} />\n          <span>Source</span>\n        </a>\n      </p>\n    </div>\n  );\n}\n\nfunction AboutImpl(props: Props) {\n  const { data: version } = useQuery(\n    ['/version', props.apiConfig],\n    fetchVersion,\n    {\n      suspense: true,\n    }\n  );\n  return (\n    <>\n      <ContentHeader title=\"About\" />\n      {version && version.version ? (\n        <Version\n          name=\"Clash\"\n          version={version.version}\n          link=\"https://github.com/Dreamacro/clash\"\n        />\n      ) : null}\n      <Version\n        name=\"Yacd\"\n        version={__VERSION__}\n        link=\"https://github.com/haishanh/yacd\"\n      />\n    </>\n  );\n}\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\n\nexport const About = connect(mapState)(AboutImpl);\n","import * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'src/components/StateProvider';\nimport { getClashAPIConfig } from 'src/store/app';\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\n\nfunction HeadImpl({ apiConfig }: { apiConfig: { baseURL: string } }) {\n  let title = 'yacd';\n  try {\n    title = new URL(apiConfig.baseURL).host;\n  } catch (e) {\n    // ignore\n  }\n  return (\n    <Helmet>\n      <title>{title}</title>\n    </Helmet>\n  );\n}\n\nexport const Head = connect(mapState)(HeadImpl);\n","import {\n  initialState as app,\n  removeClashAPIConfig,\n  selectChartStyleIndex,\n  selectClashAPIConfig,\n  updateAppConfig,\n  updateCollapsibleIsOpen,\n} from './app';\nimport { initialState as configs } from './configs';\nimport { initialState as logs } from './logs';\nimport { initialState as modals } from './modals';\nimport { actions as proxiesActions, initialState as proxies } from './proxies';\n\nexport const initialState = {\n  app: app(),\n  modals,\n  configs,\n  proxies,\n  logs,\n};\n\nexport const actions = {\n  selectChartStyleIndex,\n  updateAppConfig,\n\n  app: {\n    updateCollapsibleIsOpen,\n    updateAppConfig,\n    removeClashAPIConfig,\n    selectClashAPIConfig,\n  },\n  proxies: proxiesActions,\n};\n","import React from 'react';\n\nconst { useState, useCallback } = React;\n\nexport function useToggle(initialValue = false) {\n  const [isOn, setState] = useState(initialValue);\n  const toggle = useCallback(() => setState((x) => !x), []);\n  return [isOn, toggle];\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"ul\":\"_1MP9tbO2C9\",\"li\":\"_39O4-s-qNw\",\"close\":\"_3U13UgV7Z1\",\"eye\":\"ipx6os2H89\",\"hasSecret\":\"_3GP8CDySTd\",\"url\":\"PK8GjRW5ZI\",\"secret\":\"_2-iwpHoCB6\",\"btn\":\"S1-PNvCcRP\"};","import cx from 'clsx';\nimport * as React from 'react';\nimport { Eye, EyeOff, X as Close } from 'react-feather';\nimport { useToggle } from 'src/hooks/basic';\nimport {\n  getClashAPIConfigs,\n  getSelectedClashAPIConfigIndex,\n} from 'src/store/app';\nimport { ClashAPIConfig } from 'src/types';\n\nimport s from './BackendList.module.css';\nimport { connect, useStoreActions } from './StateProvider';\n\ntype Config = ClashAPIConfig & { addedAt: number };\n\nconst mapState = (s) => ({\n  apiConfigs: getClashAPIConfigs(s),\n  selectedClashAPIConfigIndex: getSelectedClashAPIConfigIndex(s),\n});\n\nexport const BackendList = connect(mapState)(BackendListImpl);\n\nfunction BackendListImpl({\n  apiConfigs,\n  selectedClashAPIConfigIndex,\n}: {\n  apiConfigs: Config[];\n  selectedClashAPIConfigIndex: number;\n}) {\n  const {\n    app: { removeClashAPIConfig, selectClashAPIConfig },\n  } = useStoreActions();\n\n  const onRemove = React.useCallback(\n    (conf: ClashAPIConfig) => {\n      removeClashAPIConfig(conf);\n    },\n    [removeClashAPIConfig]\n  );\n  const onSelect = React.useCallback(\n    (conf: ClashAPIConfig) => {\n      selectClashAPIConfig(conf);\n    },\n    [selectClashAPIConfig]\n  );\n\n  return (\n    <>\n      <ul className={s.ul}>\n        {apiConfigs.map((item, idx) => {\n          return (\n            <li\n              className={cx(s.li, {\n                [s.hasSecret]: item.secret,\n                [s.isSelected]: idx === selectedClashAPIConfigIndex,\n              })}\n              key={item.baseURL + item.secret}\n            >\n              <Item\n                disableRemove={idx === selectedClashAPIConfigIndex}\n                baseURL={item.baseURL}\n                secret={item.secret}\n                onRemove={onRemove}\n                onSelect={onSelect}\n              />\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n\nfunction Item({\n  baseURL,\n  secret,\n  disableRemove,\n  onRemove,\n  onSelect,\n}: {\n  baseURL: string;\n  secret: string;\n  disableRemove: boolean;\n  onRemove: (x: ClashAPIConfig) => void;\n  onSelect: (x: ClashAPIConfig) => void;\n}) {\n  const [show, toggle] = useToggle();\n  const Icon = show ? EyeOff : Eye;\n\n  const handleTap = React.useCallback((e: React.KeyboardEvent) => {\n    e.stopPropagation();\n  }, []);\n\n  return (\n    <>\n      <Button\n        disabled={disableRemove}\n        onClick={() => onRemove({ baseURL, secret })}\n        className={s.close}\n      >\n        <Close size={20} />\n      </Button>\n      <span\n        className={s.url}\n        tabIndex={0}\n        role=\"button\"\n        onClick={() => onSelect({ baseURL, secret })}\n        onKeyUp={handleTap}\n      >\n        {baseURL}\n      </span>\n      <span />\n      {secret ? (\n        <>\n          <span className={s.secret}>{show ? secret : '***'}</span>\n\n          {/* @ts-expect-error ts-migrate(2322) FIXME: Type 'boolean | (() => void)' is not assignable to... Remove this comment to see the full error message */}\n          <Button onClick={toggle} className={s.eye}>\n            <Icon size={20} />\n          </Button>\n        </>\n      ) : null}\n    </>\n  );\n}\n\nfunction Button({\n  children,\n  onClick,\n  className,\n  disabled,\n}: {\n  children: React.ReactNode;\n\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => unknown;\n  className: string;\n  disabled?: boolean;\n}) {\n  return (\n    <button\n      disabled={disabled}\n      className={cx(className, s.btn)}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2-70itbuF1\",\"header\":\"JKE-0c5hxF\",\"icon\":\"o2VhY_cs6Z\",\"body\":\"_3QDGxJ_pWs\",\"hostnamePort\":\"tTZzzcEsTA\",\"error\":\"_2cCgtjpQZP\",\"footer\":\"_3OT00Mqmrw\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2uN43zExEi\",\"floatAbove\":\"_2gQ0j5OHC8\"};","import cx from 'clsx';\nimport React from 'react';\n\nimport s from './Field.module.css';\n\nconst { useCallback } = React;\n\ntype Props = {\n  value?: string | number;\n  type?: 'text' | 'number';\n  onChange?: (...args: any[]) => any;\n  id?: string;\n  label?: string;\n};\n\nexport default function Field({ id, label, value, onChange, ...props }: Props) {\n  const valueOnChange = useCallback((e) => onChange(e), [onChange]);\n  const labelClassName = cx({\n    [s.floatAbove]: typeof value === 'string' && value !== '',\n  });\n  return (\n    <div className={s.root}>\n      <input id={id} value={value} onChange={valueOnChange} {...props} />\n      <label htmlFor={id} className={labelClassName}>\n        {label}\n      </label>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { fetchConfigs } from 'src/api/configs';\nimport { BackendList } from 'src/components/BackendList';\nimport { ClashAPIConfig } from 'src/types';\n\nimport { addClashAPIConfig, getClashAPIConfig } from '../store/app';\nimport s0 from './APIConfig.module.css';\nimport Button from './Button';\nimport Field from './Field';\nimport { connect } from './StateProvider';\nimport SvgYacd from './SvgYacd';\n\nconst { useState, useRef, useCallback } = React;\nconst Ok = 0;\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\n\nfunction APIConfig({ dispatch }) {\n  const [baseURL, setBaseURL] = useState('');\n  const [secret, setSecret] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n\n  const userTouchedFlagRef = useRef(false);\n  const contentEl = useRef(null);\n\n  const handleInputOnChange = useCallback((e) => {\n    userTouchedFlagRef.current = true;\n    setErrMsg('');\n    const target = e.target;\n    const { name } = target;\n    const value = target.value;\n    switch (name) {\n      case 'baseURL':\n        setBaseURL(value);\n        break;\n      case 'secret':\n        setSecret(value);\n        break;\n      default:\n        throw new Error(`unknown input name ${name}`);\n    }\n  }, []);\n\n  const onConfirm = useCallback(() => {\n    verify({ baseURL, secret }).then((ret) => {\n      if (ret[0] !== Ok) {\n        setErrMsg(ret[1]);\n      } else {\n        dispatch(addClashAPIConfig({ baseURL, secret }));\n      }\n    });\n  }, [baseURL, secret, dispatch]);\n\n  const handleContentOnKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (\n        e.target instanceof Element &&\n        (!e.target.tagName || e.target.tagName.toUpperCase() !== 'INPUT')\n      ) {\n        return;\n      }\n      if (e.key !== 'Enter') return;\n\n      onConfirm();\n    },\n    [onConfirm]\n  );\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <div className={s0.root} ref={contentEl} onKeyDown={handleContentOnKeyDown}>\n      <div className={s0.header}>\n        <div className={s0.icon}>\n          <SvgYacd width={160} height={160} />\n        </div>\n      </div>\n      <div className={s0.body}>\n        <div className={s0.hostnamePort}>\n          <Field\n            id=\"baseURL\"\n            // @ts-expect-error ts-migrate(2322) FIXME: Type '{ id: string; name: string; label: string; t... Remove this comment to see the full error message\n            name=\"baseURL\"\n            label=\"API Base URL\"\n            type=\"text\"\n            value={baseURL}\n            onChange={handleInputOnChange}\n          />\n          <Field\n            id=\"secret\"\n            // @ts-expect-error ts-migrate(2322) FIXME: Type '{ id: string; name: string; label: string; v... Remove this comment to see the full error message\n            name=\"secret\"\n            label=\"Secret(optional)\"\n            value={secret}\n            type=\"text\"\n            onChange={handleInputOnChange}\n          />\n        </div>\n      </div>\n      <div className={s0.error}>{errMsg ? errMsg : null}</div>\n      <div className={s0.footer}>\n        <Button label=\"Add\" onClick={onConfirm} />\n      </div>\n      <div style={{ height: 20 }} />\n      <BackendList />\n    </div>\n  );\n}\n\nexport default connect(mapState)(APIConfig);\n\nasync function verify(apiConfig: ClashAPIConfig): Promise<[number, string?]> {\n  try {\n    new URL(apiConfig.baseURL);\n  } catch (e) {\n    if (apiConfig.baseURL) {\n      const prefix = apiConfig.baseURL.substring(0, 7);\n      if (prefix !== 'http://' && prefix !== 'https:/') {\n        return [1, 'Must starts with http:// or https://'];\n      }\n    }\n\n    return [1, 'Invalid URL'];\n  }\n  try {\n    const res = await fetchConfigs(apiConfig);\n    if (res.status > 399) {\n      return [1, res.statusText];\n    }\n    return [Ok];\n  } catch (e) {\n    return [1, 'Failed to connect'];\n  }\n}\n","export const DOES_NOT_SUPPORT_FETCH = 0;\n\nexport const errors = {\n  [DOES_NOT_SUPPORT_FETCH]: {\n    message: 'Browser not supported!',\n    detail: 'This browser does not support \"fetch\", please choose another one.',\n  },\n  default: {\n    message: 'Oops, something went wrong!',\n  },\n};\n\nexport type Err = { code: number };\n\nexport function deriveMessageFromError(err: Err) {\n  const { code } = err;\n  if (typeof code === 'number') {\n    return errors[code];\n  }\n  return errors.default;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_2vs8ks4GvR\",\"container\":\"Z8vSJz0PbL\",\"overlay\":\"EWfRQXOK8M\"};","import cx from 'clsx';\nimport React from 'react';\nimport Modal from 'react-modal';\n\nimport s0 from './Modal.module.css';\n\ntype Props = {\n  isOpen: boolean;\n  onRequestClose: (...args: any[]) => any;\n  children: React.ReactNode;\n  className?: string;\n  overlayClassName?: string;\n};\n\nfunction ModalAPIConfig({\n  isOpen,\n  onRequestClose,\n  className,\n  overlayClassName,\n  children,\n  ...otherProps\n}: Props) {\n  const contentCls = cx(className, s0.content);\n  const overlayCls = cx(overlayClassName, s0.overlay);\n  return (\n    <Modal\n      isOpen={isOpen}\n      onRequestClose={onRequestClose}\n      className={contentCls}\n      overlayClassName={overlayCls}\n      {...otherProps}\n    >\n      {children}\n    </Modal>\n  );\n}\n\nexport default React.memo(ModalAPIConfig);\n","import React from 'react';\n\nimport { DOES_NOT_SUPPORT_FETCH, errors } from '../misc/errors';\nimport { getClashAPIConfig } from '../store/app';\nimport { fetchConfigs } from '../store/configs';\nimport { closeModal } from '../store/modals';\nimport APIConfig from './APIConfig';\nimport s0 from './APIDiscovery.module.css';\nimport Modal from './Modal';\nimport { connect } from './StateProvider';\n\nconst { useCallback, useEffect } = React;\n\nfunction APIDiscovery({ dispatch, apiConfig, modals }) {\n  if (!window.fetch) {\n    const { detail } = errors[DOES_NOT_SUPPORT_FETCH];\n    const err = new Error(detail);\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'code' does not exist on type 'Error'.\n    err.code = DOES_NOT_SUPPORT_FETCH;\n    throw err;\n  }\n\n  const closeApiConfigModal = useCallback(() => {\n    dispatch(closeModal('apiConfig'));\n  }, [dispatch]);\n  useEffect(() => {\n    dispatch(fetchConfigs(apiConfig));\n  }, [dispatch, apiConfig]);\n\n  return (\n    <Modal\n      isOpen={modals.apiConfig}\n      className={s0.content}\n      overlayClassName={s0.overlay}\n      // @ts-expect-error ts-migrate(2322) FIXME: Type '{ children: Element; isOpen: any; className:... Remove this comment to see the full error message\n      shouldCloseOnOverlayClick={false}\n      shouldCloseOnEsc={false}\n      onRequestClose={closeApiConfigModal}\n    >\n      <div className={s0.container}>\n        <APIConfig />\n      </div>\n    </Modal>\n  );\n}\n\nconst mapState = (s) => ({\n  modals: s.modals,\n  apiConfig: getClashAPIConfig(s),\n});\n\nexport default connect(mapState)(APIDiscovery);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_113JVByWGF\",\"yacd\":\"_1m2ZsnzFvt\",\"link\":\"_3TKFOM4Tgj\"};","import React from 'react';\n\ntype Props = {\n  width?: number;\n  height?: number;\n};\n\nexport default function SvgGithub({ width = 24, height = 24 }: Props = {}) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={width}\n      height={height}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\" />\n    </svg>\n  );\n}\n","import React from 'react';\n\nimport s0 from './ErrorBoundaryFallback.module.css';\nimport SvgGithub from './SvgGithub';\nimport SvgYacd from './SvgYacd';\nconst yacdRepoIssueUrl = 'https://github.com/haishanh/yacd/issues';\n\ntype Props = {\n  message?: string;\n  detail?: string;\n};\n\nfunction ErrorBoundaryFallback({ message, detail }: Props) {\n  return (\n    <div className={s0.root}>\n      <div className={s0.yacd}>\n        <SvgYacd width={150} height={150} />\n      </div>\n      {message ? <h1>{message}</h1> : null}\n      {detail ? <p>{detail}</p> : null}\n      <p>\n        <a className={s0.link} href={yacdRepoIssueUrl}>\n          <SvgGithub width={16} height={16} />\n          haishanh/yacd\n        </a>\n      </p>\n    </div>\n  );\n}\n\nexport default ErrorBoundaryFallback;\n","import * as React from 'react';\n\n// import { getSentry } from '../misc/sentry';\nimport { deriveMessageFromError, Err } from '../misc/errors';\nimport ErrorBoundaryFallback from './ErrorBoundaryFallback';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\ntype State = {\n  error?: Err;\n};\n\nclass ErrorBoundary extends React.Component<Props, State> {\n  state = { error: null };\n\n  static getDerivedStateFromError(error: Err) {\n    return { error };\n  }\n\n  render() {\n    if (this.state.error) {\n      const { message, detail } = deriveMessageFromError(this.state.error);\n      return <ErrorBoundaryFallback message={message} detail={detail} />;\n    } else {\n      return this.props.children;\n    }\n  }\n}\n\nexport default ErrorBoundary;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2kr0S-YLqE\"};","// extracted by mini-css-extract-plugin\nexport default {\"loading\":\"_12V5kDiPEH\",\"pulse\":\"_2FcudZSVil\",\"pulseScaleOut\":\"_3gvFm3l86P\"};","import React from 'react';\n\nimport s0 from './Loading.module.css';\n\ntype Props = {\n  height?: string;\n};\n\nconst Loading = ({ height }: Props) => {\n  const style = height ? { height } : {};\n  return (\n    <div className={s0.loading} style={style}>\n      <div className={s0.pulse} />\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useMemo } from 'react';\n\nimport { fetchData } from '../api/traffic';\nimport useLineChart from '../hooks/useLineChart';\nimport {\n  chartJSResource,\n  chartStyles,\n  commonDataSetProps,\n} from '../misc/chart';\nimport { getClashAPIConfig, getSelectedChartStyleIndex } from '../store/app';\nimport { connect } from './StateProvider';\n\nconst chartWrapperStyle = {\n  // make chartjs chart responsive\n  position: 'relative',\n  maxWidth: 1000,\n};\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n  selectedChartStyleIndex: getSelectedChartStyleIndex(s),\n});\n\nexport default connect(mapState)(TrafficChart);\n\nfunction TrafficChart({ apiConfig, selectedChartStyleIndex }) {\n  const Chart = chartJSResource.read();\n  const traffic = fetchData(apiConfig);\n  const data = useMemo(\n    () => ({\n      labels: traffic.labels,\n      datasets: [\n        {\n          ...commonDataSetProps,\n          ...chartStyles[selectedChartStyleIndex].up,\n          label: 'Up',\n          data: traffic.up,\n        },\n        {\n          ...commonDataSetProps,\n          ...chartStyles[selectedChartStyleIndex].down,\n          label: 'Down',\n          data: traffic.down,\n        },\n      ],\n    }),\n    [traffic, selectedChartStyleIndex]\n  );\n\n  useLineChart(Chart, 'trafficChart', data, traffic);\n\n  return (\n    // @ts-expect-error ts-migrate(2322) FIXME: Type '{ position: string; maxWidth: number; }' is ... Remove this comment to see the full error message\n    <div style={chartWrapperStyle}>\n      <canvas id=\"trafficChart\" />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"TrafficNow\":\"_2n4kL7wLDR\"};","import React from 'react';\n\nimport * as connAPI from '../api/connections';\nimport { fetchData } from '../api/traffic';\nimport prettyBytes from '../misc/pretty-bytes';\nimport { getClashAPIConfig } from '../store/app';\nimport { connect } from './StateProvider';\nimport s0 from './TrafficNow.module.css';\n\nconst { useState, useEffect, useCallback } = React;\n\nconst mapState = (s) => ({\n  apiConfig: getClashAPIConfig(s),\n});\nexport default connect(mapState)(TrafficNow);\n\nfunction TrafficNow({ apiConfig }) {\n  const { upStr, downStr } = useSpeed(apiConfig);\n  const { upTotal, dlTotal, connNumber } = useConnection(apiConfig);\n  return (\n    <div className={s0.TrafficNow}>\n      <div className=\"sec\">\n        <div>Upload</div>\n        <div>{upStr}</div>\n      </div>\n      <div className=\"sec\">\n        <div>Download</div>\n        <div>{downStr}</div>\n      </div>\n      <div className=\"sec\">\n        <div>Upload Total</div>\n        <div>{upTotal}</div>\n      </div>\n      <div className=\"sec\">\n        <div>Download Total</div>\n        <div>{dlTotal}</div>\n      </div>\n      <div className=\"sec\">\n        <div>Active Connections</div>\n        <div>{connNumber}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction useSpeed(apiConfig) {\n  const [speed, setSpeed] = useState({ upStr: '0 B/s', downStr: '0 B/s' });\n  useEffect(() => {\n    return fetchData(apiConfig).subscribe((o) =>\n      setSpeed({\n        upStr: prettyBytes(o.up) + '/s',\n        downStr: prettyBytes(o.down) + '/s',\n      })\n    );\n  }, [apiConfig]);\n  return speed;\n}\n\nfunction useConnection(apiConfig) {\n  const [state, setState] = useState({\n    upTotal: '0 B',\n    dlTotal: '0 B',\n    connNumber: 0,\n  });\n  const read = useCallback(\n    ({ downloadTotal, uploadTotal, connections }) => {\n      setState({\n        upTotal: prettyBytes(uploadTotal),\n        dlTotal: prettyBytes(downloadTotal),\n        connNumber: connections.length,\n      });\n    },\n    [setState]\n  );\n  useEffect(() => {\n    return connAPI.fetchData(apiConfig, read);\n  }, [apiConfig, read]);\n  return state;\n}\n","import React, { Suspense } from 'react';\n\nimport ContentHeader from './ContentHeader';\nimport s0 from './Home.module.css';\nimport Loading from './Loading';\nimport TrafficChart from './TrafficChart';\nimport TrafficNow from './TrafficNow';\n\nexport default function Home() {\n  return (\n    <div>\n      <ContentHeader title=\"Overview\" />\n      <div className={s0.root}>\n        <div>\n          <TrafficNow />\n        </div>\n        <div className={s0.chart}>\n          <Suspense fallback={<Loading height=\"200px\" />}>\n            <TrafficChart />\n          </Suspense>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"lo\":\"_2fg1R7Zu62\"};","import React from 'react';\n\nimport s0 from './Loading2.module.css';\nimport SvgYacd from './SvgYacd';\n\nfunction Loading() {\n  return (\n    <div className={s0.lo}>\n      <SvgYacd width={280} height={280} animate c0=\"transparent\" c1=\"#646464\" />\n    </div>\n  );\n}\n\nexport default Loading;\n","// extracted by mini-css-extract-plugin\nexport default {\"app\":\"_1X99PPGcn7\",\"content\":\"_2oV8uPP0dj\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3sTuXodYya\",\"logoPlaceholder\":\"_1WdrygzFVZ\",\"rows\":\"q9nBJwAvlz\",\"row\":\"_3yqSXpep4D\",\"rowActive\":\"_3wqPc_btNi\",\"label\":\"_2sd59kze-t\",\"footer\":\"_2o6aUGu--S\",\"iconWrapper\":\"_11NITPe4W7\",\"themeSwitchContainer\":\"_1kzEILbWHq\"};","import Tooltip from '@reach/tooltip';\nimport cx from 'clsx';\nimport * as React from 'react';\nimport { Info } from 'react-feather';\nimport {\n  FcAreaChart,\n  FcDocument,\n  FcGlobe,\n  FcLink,\n  FcRuler,\n  FcSettings,\n} from 'react-icons/fc';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { framerMotionResouce } from '../misc/motion';\nimport { getTheme, switchTheme } from '../store/app';\nimport s from './SideBar.module.css';\nimport { connect } from './StateProvider';\n\nconst { useCallback } = React;\n\nconst icons = {\n  activity: FcAreaChart,\n  globe: FcGlobe,\n  command: FcRuler,\n  file: FcDocument,\n  settings: FcSettings,\n  link: FcLink,\n};\n\nconst SideBarRow = React.memo(function SideBarRow({\n  isActive,\n  to,\n  iconId,\n  labelText,\n}: SideBarRowProps) {\n  const Comp = icons[iconId];\n  const className = cx(s.row, isActive ? s.rowActive : null);\n  return (\n    <Link to={to} className={className}>\n      <Comp />\n      <div className={s.label}>{labelText}</div>\n    </Link>\n  );\n});\n\ninterface SideBarRowProps {\n  isActive: boolean;\n  to: string;\n  iconId?: string;\n  labelText?: string;\n}\n\nconst pages = [\n  {\n    to: '/',\n    iconId: 'activity',\n    labelText: 'Overview',\n  },\n  {\n    to: '/proxies',\n    iconId: 'globe',\n    labelText: 'Proxies',\n  },\n  {\n    to: '/rules',\n    iconId: 'command',\n    labelText: 'Rules',\n  },\n  {\n    to: '/connections',\n    iconId: 'link',\n    labelText: 'Conns',\n  },\n  {\n    to: '/configs',\n    iconId: 'settings',\n    labelText: 'Config',\n  },\n  {\n    to: '/logs',\n    iconId: 'file',\n    labelText: 'Logs',\n  },\n];\n\nfunction SideBar({ dispatch, theme }) {\n  const location = useLocation();\n  const switchThemeHooked = useCallback(() => {\n    dispatch(switchTheme());\n  }, [dispatch]);\n  return (\n    <div className={s.root}>\n      <div className={s.logoPlaceholder} />\n      <div className={s.rows}>\n        {pages.map(({ to, iconId, labelText }) => (\n          <SideBarRow\n            key={to}\n            to={to}\n            isActive={location.pathname === to}\n            iconId={iconId}\n            labelText={labelText}\n          />\n        ))}\n      </div>\n      <div className={s.footer}>\n        <Tooltip\n          label=\"theme\"\n          aria-label={\n            'switch to ' + (theme === 'light' ? 'dark' : 'light') + ' theme'\n          }\n        >\n          <button\n            className={cx(s.iconWrapper, s.themeSwitchContainer)}\n            onClick={switchThemeHooked}\n          >\n            {theme === 'light' ? <MoonA /> : <Sun />}\n          </button>\n        </Tooltip>\n        <Tooltip label=\"about\">\n          <Link to=\"/about\" className={s.iconWrapper}>\n            <Info size={20} />\n          </Link>\n        </Tooltip>\n      </div>\n    </div>\n  );\n}\n\nfunction MoonA() {\n  const module = framerMotionResouce.read();\n  const motion = module.motion;\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <motion.path\n        d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"\n        initial={{ rotate: -30 }}\n        animate={{ rotate: 0 }}\n        transition={{ duration: 0.7 }}\n      />\n    </svg>\n  );\n}\n\nfunction Sun() {\n  const module = framerMotionResouce.read();\n  const motion = module.motion;\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"12\" cy=\"12\" r=\"5\"></circle>\n      <motion.g\n        initial={{ scale: 0.8 }}\n        animate={{ scale: 1 }}\n        transition={{ duration: 0.7 }}\n      >\n        <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line>\n        <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line>\n        <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line>\n        <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line>\n        <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line>\n        <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line>\n        <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line>\n        <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line>\n      </motion.g>\n    </svg>\n  );\n}\n\nconst mapState = (s) => ({ theme: getTheme(s) });\nexport default connect(mapState)(SideBar);\n","import React, { PureComponent } from 'react';\nimport { Zap } from 'react-feather';\n\nimport Button from './Button';\nimport Input from './Input';\nimport { LoadingDot } from './shared/Basic';\nimport SwitchThemed from './SwitchThemed';\nimport ToggleSwitch from './ToggleSwitch';\n\nconst noop = () => {\n  /* empty */\n};\n\nconst paneStyle = {\n  padding: '20px 0',\n};\n\nconst optionsRule = [\n  {\n    label: 'Global',\n    value: 'Global',\n  },\n  {\n    label: 'Rule',\n    value: 'Rule',\n  },\n  {\n    label: 'Direct',\n    value: 'Direct',\n  },\n];\n\nconst Pane = ({ children, style }) => (\n  <div style={{ ...paneStyle, ...style }}>{children}</div>\n);\n\nfunction useToggle(initialState = false) {\n  const [onoff, setonoff] = React.useState(initialState);\n  const handleChange = React.useCallback(() => {\n    setonoff((x) => !x);\n  }, []);\n  return [onoff, handleChange];\n}\n\nfunction SwitchExample() {\n  const [checked, handleChange] = useToggle(false);\n  return <SwitchThemed checked={checked} onChange={handleChange} />;\n}\n\nclass StyleGuide extends PureComponent {\n  render() {\n    return (\n      <div>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <SwitchExample />\n        </Pane>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <Input />\n        </Pane>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <ToggleSwitch\n            name=\"test\"\n            options={optionsRule}\n            value=\"Rule\"\n            onChange={noop}\n          />\n        </Pane>\n        {/* @ts-expect-error ts-migrate(2741) FIXME: Property 'style' is missing in type '{ children: E... Remove this comment to see the full error message */}\n        <Pane>\n          <Button text=\"Test Lxatency\" start={<Zap size={16} />} />\n          <Button text=\"Test Lxatency\" start={<Zap size={16} />} isLoading />\n          <Button label=\"Test Lxatency\" />\n          <Button label=\"Button Plain\" kind=\"minimal\" />\n        </Pane>\n        <Pane style={{ paddingLeft: 20 }}>\n          <LoadingDot />\n        </Pane>\n      </div>\n    );\n  }\n}\n\nexport default StyleGuide;\n","import './Root.css';\n\nimport React, { lazy, Suspense } from 'react';\nimport { PartialRouteObject } from 'react-router';\nimport { HashRouter as Router, useRoutes } from 'react-router-dom';\nimport { RecoilRoot } from 'recoil';\nimport { About } from 'src/components/about/About';\nimport { Head } from 'src/components/shared/Head';\n\nimport { actions, initialState } from '../store';\nimport APIConfig from './APIConfig';\nimport APIDiscovery from './APIDiscovery';\nimport ErrorBoundary from './ErrorBoundary';\nimport Home from './Home';\nimport Loading2 from './Loading2';\nimport s0 from './Root.module.css';\nimport SideBar from './SideBar';\nimport StateProvider from './StateProvider';\nimport StyleGuide from './StyleGuide';\n\nconst Connections = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"conns\" */\n      /* webpackPrefetch: true */\n      './Connections'\n    )\n);\nconst Config = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"config\" */\n      /* webpackPrefetch: true */\n      './Config'\n    )\n);\nconst Logs = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"logs\" */\n      /* webpackPrefetch: true */\n      './Logs'\n    )\n);\nconst Proxies = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"proxies\" */\n      /* webpackPrefetch: true */\n      './proxies/Proxies'\n    )\n);\nconst Rules = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"rules\" */\n      /* webpackPrefetch: true */\n      './Rules'\n    )\n);\n\nconst routes = [\n  { path: '/', element: <Home /> },\n  { path: '/connections', element: <Connections /> },\n  { path: '/configs', element: <Config /> },\n  { path: '/logs', element: <Logs /> },\n  { path: '/proxies', element: <Proxies /> },\n  { path: '/rules', element: <Rules /> },\n  { path: '/about', element: <About /> },\n  __DEV__ ? { path: '/style', element: <StyleGuide /> } : false,\n].filter(Boolean) as PartialRouteObject[];\n\nfunction RouteInnerApp() {\n  return useRoutes(routes);\n}\n\nfunction SideBarApp() {\n  return (\n    <>\n      <APIDiscovery />\n      <SideBar />\n      <div className={s0.content}>\n        <Suspense fallback={<Loading2 />}>\n          <RouteInnerApp />\n        </Suspense>\n      </div>\n    </>\n  );\n}\n\nfunction App() {\n  return useRoutes([\n    { path: '/backend', element: <APIConfig /> },\n    { path: '*', element: <SideBarApp /> },\n  ]);\n}\n\nconst Root = () => (\n  <ErrorBoundary>\n    <RecoilRoot>\n      <StateProvider initialState={initialState} actions={actions}>\n        <Router>\n          <div className={s0.app}>\n            <Head />\n            <Suspense fallback={<Loading2 />}>\n              <App />\n            </Suspense>\n          </div>\n        </Router>\n      </StateProvider>\n    </RecoilRoot>\n  </ErrorBoundary>\n);\n\nexport default Root;\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service worker'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import 'modern-normalize/modern-normalize.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\n\nimport Root from './components/Root';\nimport * as swRegistration from './swRegistration';\n\nconst rootEl = document.getElementById('app');\n\nModal.setAppElement(rootEl);\n\nconst root = ReactDOM.unstable_createRoot(rootEl);\nroot.render(<Root />);\n\nswRegistration.register();\n\n// eslint-disable-next-line no-console\nconsole.log('Checkout the repo: https://github.com/haishanh/yacd');\n// eslint-disable-next-line\nconsole.log('Version:', __VERSION__);\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"_796AqwOFs_\",\"minimal\":\"_1bLZvI40oA\",\"btnStart\":\"_1SrCTG7yDt\",\"loadingContainer\":\"_39VuJRXAmL\"};","import cx from 'clsx';\nimport * as React from 'react';\n\nimport s0 from './Button.module.css';\nimport { LoadingDot } from './shared/Basic';\n\nconst { forwardRef, useCallback } = React;\n\ntype ButtonInternalProps = {\n  children?: React.ReactNode;\n  label?: string;\n  text?: string;\n  start?: React.ReactElement | (() => React.ReactElement);\n};\n\ntype ButtonProps = {\n  isLoading?: boolean;\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => unknown;\n  disabled?: boolean;\n  kind?: 'primary' | 'minimal';\n  className?: string;\n  title?: string;\n} & ButtonInternalProps;\n\nfunction Button(props: ButtonProps, ref: React.Ref<HTMLButtonElement>) {\n  const {\n    onClick,\n    disabled = false,\n    isLoading,\n    kind = 'primary',\n    className,\n    children,\n    label,\n    text,\n    start,\n    ...restProps\n  } = props;\n  const internalProps = { children, label, text, start };\n  const internalOnClick = useCallback(\n    (e) => {\n      if (isLoading) return;\n      onClick && onClick(e);\n    },\n    [isLoading, onClick]\n  );\n  const btnClassName = cx(\n    s0.btn,\n    { [s0.minimal]: kind === 'minimal' },\n    className\n  );\n  return (\n    <button\n      className={btnClassName}\n      ref={ref}\n      onClick={internalOnClick}\n      disabled={disabled}\n      {...restProps}\n    >\n      {isLoading ? (\n        <>\n          <span style={{ display: 'inline-flex', opacity: 0 }}>\n            <ButtonInternal {...internalProps} />\n          </span>\n          <span className={s0.loadingContainer}>\n            <LoadingDot />\n          </span>\n        </>\n      ) : (\n        <ButtonInternal {...internalProps} />\n      )}\n    </button>\n  );\n}\n\nfunction ButtonInternal({ children, label, text, start }: ButtonInternalProps) {\n  return (\n    <>\n      {start ? (\n        <span className={s0.btnStart}>\n          {typeof start === 'function' ? start() : start}\n        </span>\n      ) : null}\n      {children || label || text}\n    </>\n  );\n}\n\nexport default forwardRef(Button);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_24ddJm1Q5s\",\"h1\":\"B4QNkMu-0t\"};","import React from 'react';\n\nimport s0 from './ContentHeader.module.css';\n\ntype Props = {\n  title: string;\n};\n\nfunction ContentHeader({ title }: Props) {\n  return (\n    <div className={s0.root}>\n      <h1 className={s0.h1}>{title}</h1>\n    </div>\n  );\n}\n\nexport default React.memo(ContentHeader);\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"_2DECxrOsTa\"};","import React from 'react';\n\nimport s0 from './Input.module.css';\n\nconst { useState, useRef, useEffect, useCallback } = React;\n\ntype InputProps = {\n  value?: string | number;\n  type?: string;\n  onChange?: (...args: any[]) => any;\n  name?: string;\n  placeholder?: string;\n};\n\nexport default function Input(props: InputProps) {\n  return <input className={s0.input} {...props} />;\n}\n\nexport function SelfControlledInput({ value, ...restProps }) {\n  const [internalValue, setInternalValue] = useState(value);\n  const refValue = useRef(value);\n  useEffect(() => {\n    if (refValue.current !== value) {\n      // ideally we should only do this when this input is not focused\n      setInternalValue(value);\n    }\n    refValue.current = value;\n  }, [value]);\n  const onChange = useCallback((e) => setInternalValue(e.target.value), [\n    setInternalValue,\n  ]);\n\n  return (\n    <input\n      className={s0.input}\n      value={internalValue}\n      onChange={onChange}\n      {...restProps}\n    />\n  );\n}\n","import produce, * as immer from 'immer';\nimport React from 'react';\n\n// in logs store we update logs in place\n// outside of immer produce\n// this is just workaround\nimmer.setAutoFreeze(false);\n\nconst {\n  createContext,\n  memo,\n  useMemo,\n  useRef,\n  useEffect,\n  useCallback,\n  useContext,\n  useState,\n} = React;\n\nexport { immer };\n\nconst StateContext = createContext(null);\nconst DispatchContext = createContext(null);\nconst ActionsContext = createContext(null);\n\nexport function useStoreState() {\n  return useContext(StateContext);\n}\n\nexport function useStoreDispatch() {\n  return useContext(DispatchContext);\n}\n\nexport function useStoreActions() {\n  return useContext(ActionsContext);\n}\n\n// boundActionCreators\nexport default function Provider({ initialState, actions = {}, children }) {\n  const stateRef = useRef(initialState);\n  const [state, setState] = useState(initialState);\n  const getState = useCallback(() => stateRef.current, []);\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      (window as any).getState2 = getState;\n    }\n  }, [getState]);\n  const dispatch = useCallback(\n    (actionId, fn) => {\n      if (typeof actionId === 'function') return actionId(dispatch, getState);\n\n      const stateNext = produce(getState(), fn);\n      if (stateNext !== stateRef.current) {\n        if (process.env.NODE_ENV === 'development') {\n          // eslint-disable-next-line no-console\n          console.log(actionId, stateNext);\n        }\n        stateRef.current = stateNext;\n        setState(stateNext);\n      }\n    },\n    [getState]\n  );\n  const boundActions = useMemo(() => bindActions(actions, dispatch), [\n    actions,\n    dispatch,\n  ]);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        <ActionsContext.Provider value={boundActions}>\n          {children}\n        </ActionsContext.Provider>\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n}\n\nexport function connect(mapStateToProps) {\n  return (Component) => {\n    const MemoComponent = memo(Component);\n    function Connected(props) {\n      const state = useContext(StateContext);\n      const dispatch = useContext(DispatchContext);\n      const mapped = mapStateToProps(state, props);\n      const nextProps = { dispatch, ...props, ...mapped };\n      return <MemoComponent {...nextProps} />;\n    }\n    return Connected;\n  };\n}\n\n// steal from https://github.com/reduxjs/redux/blob/master/src/bindActionCreators.ts\nfunction bindAction(action, dispatch) {\n  return function (...args) {\n    // @ts-expect-error ts-migrate(2683) FIXME: 'this' implicitly has type 'any' because it does n... Remove this comment to see the full error message\n    return dispatch(action.apply(this, args));\n  };\n}\n\nfunction bindActions(actions, dispatch) {\n  const boundActions = {};\n  for (const key in actions) {\n    const action = actions[key];\n    if (typeof action === 'function') {\n      boundActions[key] = bindAction(action, dispatch);\n    } else if (typeof action === 'object') {\n      boundActions[key] = bindActions(action, dispatch);\n    }\n  }\n  return boundActions;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"path\":\"_3MvgliBN_D\",\"dash\":\"_2C1TpO8LMn\"};","import cx from 'clsx';\nimport React from 'react';\n\nimport s from './SvgYacd.module.css';\n\ntype Props = {\n  width?: number;\n  height?: number;\n  animate?: boolean;\n  c0?: string;\n  c1?: string;\n};\n\nfunction SvgYacd({\n  width = 320,\n  height = 320,\n  animate = false,\n  c0 = 'currentColor',\n  c1 = '#eee',\n}: Props) {\n  const faceClasName = cx({ [s.path]: animate });\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox=\"0 0 320 320\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g fill=\"none\" fillRule=\"evenodd\">\n        {/* face */}\n        <path\n          d=\"M71.689 53.055c9.23-1.487 25.684 27.263 41.411 56.663 18.572-8.017 71.708-7.717 93.775 0 4.714-15.612 31.96-57.405 41.626-56.663 3.992.088 13.07 31.705 23.309 94.96 2.743 16.949 7.537 47.492 14.38 91.63-42.339 17.834-84.37 26.751-126.095 26.751-41.724 0-83.756-8.917-126.095-26.751C52.973 116.244 65.536 54.047 71.689 53.055z\"\n          stroke={c1}\n          strokeWidth=\"4\"\n          strokeLinecap=\"round\"\n          fill={c0}\n          className={faceClasName}\n        />\n        <circle fill={c1} cx=\"216.5\" cy=\"181.5\" r=\"14.5\" />\n        <circle fill={c1} cx=\"104.5\" cy=\"181.5\" r=\"14.5\" />\n        {/* mouth */}\n        <g stroke={c1} strokeLinecap=\"round\" strokeWidth=\"4\">\n          <path d=\"M175.568 218.694c-2.494 1.582-5.534 2.207-8.563 1.508-3.029-.7-5.487-2.594-7.035-5.11M143.981 218.694c2.494 1.582 5.534 2.207 8.563 1.508 3.03-.7 5.488-2.594 7.036-5.11\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default SvgYacd;\n","import React from 'react';\nimport Switch from 'react-switch';\n\nimport { getTheme } from '../store/app';\nimport { connect } from './StateProvider';\n\nfunction SwitchThemed({ checked = false, onChange, theme, name }) {\n  const offColor = theme === 'dark' ? '#393939' : '#e9e9e9';\n\n  return (\n    <Switch\n      onChange={onChange}\n      checked={checked}\n      uncheckedIcon={false}\n      checkedIcon={false}\n      offColor={offColor}\n      onColor=\"#047aff\"\n      offHandleColor=\"#fff\"\n      onHandleColor=\"#fff\"\n      handleDiameter={24}\n      height={28}\n      width={44}\n      className=\"rs\"\n      name={name}\n    />\n  );\n}\n\nexport default connect((s) => ({\n  theme: getTheme(s),\n}))(SwitchThemed);\n","// extracted by mini-css-extract-plugin\nexport default {\"ToggleSwitch\":\"_2IgDTE__bQ\",\"slider\":\"_2IfOm9qQ_4\"};","import React, { useCallback, useMemo } from 'react';\n\nimport s0 from './ToggleSwitch.module.css';\n\ntype Props = {\n  options?: any[];\n  value?: string;\n  name?: string;\n  onChange?: (...args: any[]) => any;\n};\n\nfunction ToggleSwitch({ options, value, name, onChange }: Props) {\n  const idxSelected = useMemo(\n    () => options.map((o) => o.value).indexOf(value),\n    [options, value]\n  );\n\n  const getPortionPercentage = useCallback(\n    // @ts-expect-error ts-migrate(7030) FIXME: Not all code paths return a value.\n    (idx) => {\n      const w = Math.floor(100 / options.length);\n      if (idx === options.length - 1) {\n        return 100 - options.length * w + w;\n      } else if (idx > -1) {\n        return w;\n      }\n    },\n    [options]\n  );\n\n  const sliderStyle = useMemo(() => {\n    return {\n      width: getPortionPercentage(idxSelected) + '%',\n      left: idxSelected * getPortionPercentage(0) + '%',\n    };\n  }, [idxSelected, getPortionPercentage]);\n\n  return (\n    <div className={s0.ToggleSwitch}>\n      <div className={s0.slider} style={sliderStyle} />\n      {options.map((o, idx) => {\n        const id = `${name}-${o.label}`;\n        const className = idx === 0 ? '' : 'border-left';\n        return (\n          <label\n            htmlFor={id}\n            key={id}\n            className={className}\n            style={{\n              width: getPortionPercentage(idx) + '%',\n            }}\n          >\n            <input\n              id={id}\n              name={name}\n              type=\"radio\"\n              value={o.value}\n              checked={value === o.value}\n              onChange={onChange}\n            />\n            <div>{o.label}</div>\n          </label>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default React.memo(ToggleSwitch);\n","// extracted by mini-css-extract-plugin\nexport default {\"sectionNameType\":\"Q-CsP5Y3FT\",\"loadingDot\":\"_3GL3LmFL_E\",\"dot2\":\"uZWMZR9nBW\",\"dot1\":\"saNygeIhRC\",\"dot3\":\"_3RtxWfV4g4\"};","import React from 'react';\n\nimport s from './Basic.module.css';\n\nexport function SectionNameType({ name, type }) {\n  return (\n    <h2 className={s.sectionNameType}>\n      <span>{name}</span>\n      <span>{type}</span>\n    </h2>\n  );\n}\n\nexport function LoadingDot() {\n  return <span className={s.loadingDot} />;\n}\n","import React from 'react';\n\nimport { commonChartOptions } from '../misc/chart';\n\nconst { useEffect } = React;\nconst options = commonChartOptions;\n\nexport default function useLineChart(\n  Chart,\n  elementId,\n  data,\n  subscription,\n  extraChartOptions = {}\n) {\n  useEffect(() => {\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'getContext' does not exist on type 'HTML... Remove this comment to see the full error message\n    const ctx = document.getElementById(elementId).getContext('2d');\n    const c = new Chart(ctx, {\n      type: 'line',\n      data,\n      options: { ...options, ...extraChartOptions },\n    });\n    const unsubscribe =\n      subscription && subscription.subscribe(() => c.update());\n    return () => {\n      unsubscribe && unsubscribe();\n      c.destroy();\n    };\n  }, [Chart, elementId, data, subscription, extraChartOptions]);\n}\n","import { unstable_createResource as createResource } from '@hsjs/react-cache';\n\nimport prettyBytes from './pretty-bytes';\n\nexport const chartJSResource = createResource(() => {\n  return import(\n    /* webpackChunkName: \"chartjs\" */\n    /* webpackPrefetch: true */\n    /* webpackPreload: true */\n    'chart.js/dist/Chart.min.js'\n  ).then((c) => c.default);\n});\n\nexport const commonDataSetProps = {\n  borderWidth: 1,\n  lineTension: 0,\n  pointRadius: 0,\n};\n\nexport const commonChartOptions = {\n  responsive: true,\n  maintainAspectRatio: true,\n  title: {\n    display: false,\n  },\n  legend: {\n    display: true,\n    position: 'top',\n    labels: {\n      fontColor: '#ccc',\n      boxWidth: 20,\n    },\n  },\n  tooltips: {\n    enabled: false,\n    mode: 'index',\n    intersect: false,\n    animationDuration: 100,\n  },\n  hover: {\n    mode: 'nearest',\n    intersect: true,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n        gridLines: {\n          display: false,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        display: true,\n        gridLines: {\n          display: true,\n          color: '#555',\n          borderDash: [3, 6],\n          drawBorder: false,\n        },\n        ticks: {\n          callback(value) {\n            return prettyBytes(value) + '/s ';\n          },\n        },\n      },\n    ],\n  },\n};\n\nexport const chartStyles = [\n  {\n    down: {\n      backgroundColor: 'rgba(176, 209, 132, 0.8)',\n      borderColor: 'rgb(176, 209, 132)',\n    },\n    up: {\n      backgroundColor: 'rgba(181, 220, 231, 0.8)',\n      borderColor: 'rgb(181, 220, 231)',\n    },\n  },\n  {\n    up: {\n      backgroundColor: 'rgb(98, 190, 100)',\n      borderColor: 'rgb(78,146,79)',\n    },\n    down: {\n      backgroundColor: 'rgb(160, 230, 66)',\n      borderColor: 'rgb(110, 156, 44)',\n    },\n  },\n  {\n    up: {\n      backgroundColor: 'rgba(94, 175, 223, 0.3)',\n      borderColor: 'rgb(94, 175, 223)',\n    },\n    down: {\n      backgroundColor: 'rgba(139, 227, 195, 0.3)',\n      borderColor: 'rgb(139, 227, 195)',\n    },\n  },\n  {\n    up: {\n      backgroundColor: 'rgba(242, 174, 62, 0.3)',\n      borderColor: 'rgb(242, 174, 62)',\n    },\n    down: {\n      backgroundColor: 'rgba(69, 154, 248, 0.3)',\n      borderColor: 'rgb(69, 154, 248)',\n    },\n  },\n];\n\n// TODO to remove\nexport const colorCombo = chartStyles;\n","import { createResource } from './createResource';\n\nexport const framerMotionResouce = createResource(\n  () => import('framer-motion')\n);\n","// from https://gist.github.com/ryanflorence/e10cc9dbc0e259759ec942ba82e5b57c\nexport function createResource(getPromise: (key: string) => Promise<any>) {\n  let cache = {};\n  const inflight = {};\n  const errors = {};\n\n  function load(key = 'default') {\n    inflight[key] = getPromise(key)\n      .then((val) => {\n        delete inflight[key];\n        cache[key] = val;\n      })\n      .catch((error) => {\n        errors[key] = error;\n      });\n    return inflight[key];\n  }\n\n  function preload(key = 'default') {\n    if (cache[key] !== undefined || inflight[key]) return;\n    load(key);\n  }\n\n  function read(key = 'default') {\n    if (cache[key] !== undefined) {\n      return cache[key];\n    } else if (errors[key]) {\n      throw errors[key];\n    } else if (inflight[key]) {\n      throw inflight[key];\n    } else {\n      throw load(key);\n    }\n  }\n\n  function clear(key: 'default') {\n    if (key) {\n      delete cache[key];\n    } else {\n      cache = {};\n    }\n  }\n\n  return { preload, read, clear };\n}\n","// steal from https://github.com/sindresorhus/pretty-bytes/blob/master/index.js\n\nconst UNITS = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport default function prettyBytes(n: number) {\n  if (n < 1000) {\n    return n + ' B';\n  }\n  const exponent = Math.min(Math.floor(Math.log10(n) / 3), UNITS.length - 1);\n  n = Number((n / Math.pow(1000, exponent)).toPrecision(3));\n  const unit = UNITS[exponent];\n  return n + ' ' + unit;\n}\n","import { trimTrailingSlash } from 'src/misc/utils';\nimport { ClashAPIConfig } from 'src/types';\n\nconst headersCommon = { 'Content-Type': 'application/json' };\n\nfunction genCommonHeaders({ secret }: { secret?: string }) {\n  const h = { ...headersCommon };\n  if (secret) {\n    h['Authorization'] = `Bearer ${secret}`;\n  }\n  return h;\n}\n\nexport function getURLAndInit({ baseURL, secret }: ClashAPIConfig) {\n  const headers = genCommonHeaders({ secret });\n  return {\n    url: baseURL,\n    init: { headers },\n  };\n}\n\nexport function buildWebSocketURL(apiConfig: ClashAPIConfig, endpoint: string) {\n  const { baseURL, secret } = apiConfig;\n  let qs = '';\n  if (typeof secret === 'string' && secret !== '') {\n    qs += '?token=' + encodeURIComponent(secret);\n  }\n  const url = new URL(baseURL);\n  url.protocol === 'https:' ? (url.protocol = 'wss:') : (url.protocol = 'ws:');\n  return `${trimTrailingSlash(url.href)}${endpoint}${qs}`;\n}\n","export function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  timeout: number\n) {\n  let pending = false;\n\n  return (...args: T) => {\n    if (!pending) {\n      pending = true;\n      fn(...args);\n      setTimeout(() => {\n        pending = false;\n      }, timeout);\n    }\n  };\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  timeout: number\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  return (...args: T) => {\n    if (timeoutId) clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      fn(...args);\n    }, timeout);\n  };\n}\n\nexport function trimTrailingSlash(s: string) {\n  return s.replace(/\\/$/, '');\n}\n","// manage localStorage\n\nconst StorageKey = 'yacd.haishan.me';\n\nfunction loadState() {\n  try {\n    const serialized = localStorage.getItem(StorageKey);\n    if (!serialized) return undefined;\n    return JSON.parse(serialized);\n  } catch (err) {\n    return undefined;\n  }\n}\n\nfunction saveState(state) {\n  try {\n    const serialized = JSON.stringify(state);\n    localStorage.setItem(StorageKey, serialized);\n  } catch (err) {\n    // ignore\n  }\n}\n\nfunction clearState() {\n  try {\n    localStorage.removeItem(StorageKey);\n  } catch (err) {\n    // ignore\n  }\n}\n\nexport { loadState, saveState, clearState };\n","import { DispatchFn, GetStateFn, State, StateApp } from 'src/store/types';\n\nimport { loadState, saveState } from '../misc/storage';\nimport { debounce, trimTrailingSlash } from '../misc/utils';\nimport { fetchConfigs } from './configs';\nimport { closeModal } from './modals';\n\nexport const getClashAPIConfig = (s: State) => {\n  const idx = s.app.selectedClashAPIConfigIndex;\n  return s.app.clashAPIConfigs[idx];\n};\nexport const getSelectedClashAPIConfigIndex = (s: State) =>\n  s.app.selectedClashAPIConfigIndex;\nexport const getClashAPIConfigs = (s: State) => s.app.clashAPIConfigs;\nexport const getTheme = (s: State) => s.app.theme;\nexport const getSelectedChartStyleIndex = (s: State) =>\n  s.app.selectedChartStyleIndex;\nexport const getLatencyTestUrl = (s: State) => s.app.latencyTestUrl;\nexport const getCollapsibleIsOpen = (s: State) => s.app.collapsibleIsOpen;\nexport const getProxySortBy = (s: State) => s.app.proxySortBy;\nexport const getHideUnavailableProxies = (s: State) =>\n  s.app.hideUnavailableProxies;\nexport const getAutoCloseOldConns = (s: State) => s.app.autoCloseOldConns;\n\nconst saveStateDebounced = debounce(saveState, 600);\n\n// @ts-expect-error ts-migrate(7030) FIXME: Not all code paths return a value.\nfunction findClashAPIConfigIndex(getState: GetStateFn, { baseURL, secret }) {\n  const arr = getClashAPIConfigs(getState());\n  for (let i = 0; i < arr.length; i++) {\n    const x = arr[i];\n    if (x.baseURL === baseURL && x.secret === secret) return i;\n  }\n}\n\nexport function addClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const idx = findClashAPIConfigIndex(getState, { baseURL, secret });\n    // already exists\n    if (idx) return;\n\n    const clashAPIConfig = { baseURL, secret, addedAt: Date.now() };\n    dispatch('addClashAPIConfig', (s) => {\n      s.app.clashAPIConfigs.push(clashAPIConfig);\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function removeClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const idx = findClashAPIConfigIndex(getState, { baseURL, secret });\n    dispatch('removeClashAPIConfig', (s) => {\n      s.app.clashAPIConfigs = [\n        ...s.app.clashAPIConfigs.slice(0, idx),\n        ...s.app.clashAPIConfigs.slice(idx + 1),\n      ];\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function selectClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const idx = findClashAPIConfigIndex(getState, { baseURL, secret });\n    const curr = getSelectedClashAPIConfigIndex(getState());\n    if (curr !== idx) {\n      dispatch('selectClashAPIConfig', (s) => {\n        s.app.selectedClashAPIConfigIndex = idx;\n      });\n    }\n    // side effect\n    saveState(getState().app);\n\n    // manual clean up is too complex\n    // we just reload the app\n    try {\n      window.location.reload();\n    } catch (err) {\n      // ignore\n    }\n  };\n}\n\n// unused\nexport function updateClashAPIConfig({ baseURL, secret }) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const clashAPIConfig = { baseURL, secret };\n    dispatch('appUpdateClashAPIConfig', (s) => {\n      s.app.clashAPIConfigs[0] = clashAPIConfig;\n    });\n    // side effect\n    saveState(getState().app);\n    dispatch(closeModal('apiConfig'));\n    dispatch(fetchConfigs(clashAPIConfig));\n  };\n}\n\nconst bodyElement = document.body;\nfunction setTheme(theme = 'dark') {\n  if (theme === 'dark') {\n    bodyElement.classList.remove('light');\n    bodyElement.classList.add('dark');\n  } else {\n    bodyElement.classList.remove('dark');\n    bodyElement.classList.add('light');\n  }\n}\n\nexport function switchTheme() {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    const currentTheme = getTheme(getState());\n    const theme = currentTheme === 'light' ? 'dark' : 'light';\n    // side effect\n    setTheme(theme);\n    dispatch('storeSwitchTheme', (s) => {\n      s.app.theme = theme;\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function selectChartStyleIndex(\n  selectedChartStyleIndex: number | string\n) {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    dispatch('appSelectChartStyleIndex', (s) => {\n      s.app.selectedChartStyleIndex = Number(selectedChartStyleIndex);\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function updateAppConfig(name: string, value: unknown) {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    dispatch('appUpdateAppConfig', (s) => {\n      s.app[name] = value;\n    });\n    // side effect\n    saveState(getState().app);\n  };\n}\n\nexport function updateCollapsibleIsOpen(\n  prefix: string,\n  name: string,\n  v: boolean\n) {\n  return (dispatch: DispatchFn, getState: GetStateFn) => {\n    dispatch('updateCollapsibleIsOpen', (s: State) => {\n      s.app.collapsibleIsOpen[`${prefix}:${name}`] = v;\n    });\n    // side effect\n    saveStateDebounced(getState().app);\n  };\n}\n\nconst defaultClashAPIConfig = {\n  baseURL: 'http://127.0.0.1:9090',\n  secret: '',\n  addedAt: 0,\n};\n// type Theme = 'light' | 'dark';\nconst defaultState: StateApp = {\n  selectedClashAPIConfigIndex: 0,\n  clashAPIConfigs: [defaultClashAPIConfig],\n\n  latencyTestUrl: 'http://www.gstatic.com/generate_204',\n  selectedChartStyleIndex: 0,\n  theme: 'dark',\n\n  // type { [string]: boolean }\n  collapsibleIsOpen: {},\n  // how proxies are sorted in a group or provider\n  proxySortBy: 'Natural',\n  hideUnavailableProxies: false,\n  autoCloseOldConns: false,\n};\n\nfunction parseConfigQueryString() {\n  const { search } = window.location;\n  const collector: Record<string, string> = {};\n  if (typeof search !== 'string' || search === '') return collector;\n  const qs = search.replace(/^\\?/, '').split('&');\n  for (let i = 0; i < qs.length; i++) {\n    const [k, v] = qs[i].split('=');\n    collector[k] = encodeURIComponent(v);\n  }\n  return collector;\n}\n\nexport function initialState() {\n  let s = loadState();\n  s = { ...defaultState, ...s };\n  const query = parseConfigQueryString();\n\n  const conf = s.clashAPIConfigs[s.selectedClashAPIConfigIndex];\n  if (conf) {\n    const url = new URL(conf.baseURL);\n    if (query.hostname) {\n      url.hostname = query.hostname;\n    }\n    if (query.port) {\n      url.port = query.port;\n    }\n    // url.href is a stringifier and it appends a trailing slash\n    // that is not we want\n    conf.baseURL = trimTrailingSlash(url.href);\n    if (query.secret) {\n      conf.secret = query.secret;\n    }\n  }\n\n  if (query.theme === 'dark' || query.theme === 'light') {\n    s.theme = query.theme;\n  }\n  // set initial theme\n  setTheme(s.theme);\n  return s;\n}\n","import {\n  ClashGeneralConfig,\n  DispatchFn,\n  GetStateFn,\n  State,\n  StateConfigs,\n} from 'src/store/types';\nimport { ClashAPIConfig } from 'src/types';\n\nimport * as configsAPI from '../api/configs';\nimport * as trafficAPI from '../api/traffic';\nimport { openModal } from './modals';\n\nexport const getConfigs = (s: State) => s.configs.configs;\nexport const getHaveFetched = (s: State) => s.configs.haveFetchedConfig;\nexport const getLogLevel = (s: State) => s.configs.configs['log-level'];\n\nexport function fetchConfigs(apiConfig: ClashAPIConfig) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    let res: Response;\n    try {\n      res = await configsAPI.fetchConfigs(apiConfig);\n    } catch (err) {\n      // TypeError and AbortError\n      dispatch(openModal('apiConfig'));\n      return;\n    }\n\n    if (!res.ok) {\n      console.log('Error fetch configs', res.statusText);\n      dispatch(openModal('apiConfig'));\n      return;\n    }\n\n    const payload = await res.json();\n\n    dispatch('store/configs#fetchConfigs', (s) => {\n      s.configs.configs = payload;\n    });\n\n    const haveFetchedConfig = getHaveFetched(getState());\n\n    if (haveFetchedConfig) {\n      // normally user will land on the \"traffic chart\" page first\n      // calling this here will let the data start streaming\n      // the traffic chart should already subscribed to the streaming\n      trafficAPI.fetchData(apiConfig);\n    } else {\n      dispatch(markHaveFetchedConfig());\n    }\n  };\n}\n\nfunction markHaveFetchedConfig() {\n  return (dispatch: DispatchFn) => {\n    dispatch('store/configs#markHaveFetchedConfig', (s: State) => {\n      s.configs.haveFetchedConfig = true;\n    });\n  };\n}\n\nexport function updateConfigs(\n  apiConfig: ClashAPIConfig,\n  partialConfg: Partial<ClashGeneralConfig>\n) {\n  return async (dispatch: DispatchFn) => {\n    configsAPI\n      .updateConfigs(apiConfig, partialConfg)\n      .then(\n        (res) => {\n          if (res.ok === false) {\n            // eslint-disable-next-line no-console\n            console.log('Error update configs', res.statusText);\n          }\n        },\n        (err) => {\n          // eslint-disable-next-line no-console\n          console.log('Error update configs', err);\n          throw err;\n        }\n      )\n      .then(() => {\n        dispatch(fetchConfigs(apiConfig));\n      });\n\n    dispatch('storeConfigsOptimisticUpdateConfigs', (s) => {\n      s.configs.configs = { ...s.configs.configs, ...partialConfg };\n    });\n  };\n}\n\nexport const initialState: StateConfigs = {\n  configs: {\n    port: 7890,\n    'socks-port': 7891,\n    'redir-port': 0,\n    'allow-lan': false,\n    mode: 'Rule',\n    'log-level': 'info',\n  },\n  haveFetchedConfig: false,\n};\n","import { createSelector } from 'reselect';\n\nconst LogSize = 300;\n\nconst getLogs = (s) => s.logs.logs;\nconst getTail = (s) => s.logs.tail;\nexport const getSearchText = (s) => s.logs.searchText;\nexport const getLogsForDisplay = createSelector(\n  getLogs,\n  getTail,\n  getSearchText,\n  (logs, tail, searchText) => {\n    const x = [];\n    for (let i = tail; i >= 0; i--) {\n      x.push(logs[i]);\n    }\n    if (logs.length === LogSize) {\n      for (let i = LogSize - 1; i > tail; i--) {\n        x.push(logs[i]);\n      }\n    }\n\n    if (searchText === '') return x;\n    return x.filter((r) => r.payload.toLowerCase().indexOf(searchText) >= 0);\n  }\n);\n\nexport function updateSearchText(text) {\n  return (dispatch) => {\n    dispatch('logsUpdateSearchText', (s) => {\n      s.logs.searchText = text.toLowerCase();\n    });\n  };\n}\n\nexport function appendLog(log) {\n  return (dispatch, getState) => {\n    const s = getState();\n    const logs = getLogs(s);\n    const tailCurr = getTail(s);\n    const tail = tailCurr >= LogSize - 1 ? 0 : tailCurr + 1;\n    // mutate intentionally for performance\n    logs[tail] = log;\n\n    dispatch('logsAppendLog', (s) => {\n      s.logs.tail = tail;\n    });\n  };\n}\n\nexport const initialState = {\n  searchText: '',\n  logs: [],\n  // tail's initial value must be -1\n  tail: -1,\n};\n","export function openModal(modalName) {\n  return (dispatch) => {\n    dispatch(`openModal:${modalName}`, (s) => {\n      s.modals[modalName] = true;\n    });\n  };\n}\n\nexport function closeModal(modalName) {\n  return (dispatch) => {\n    dispatch(`closeModal:${modalName}`, (s) => {\n      s.modals[modalName] = false;\n    });\n  };\n}\n\nexport const initialState = { apiConfig: false };\n","import { getURLAndInit } from '../misc/request-helper';\nconst endpoint = '/proxies';\n\n/*\n$ curl \"http://127.0.0.1:8080/proxies/Proxy\" -XPUT -d '{ \"name\": \"ss3\" }' -i\nHTTP/1.1 400 Bad Request\nContent-Type: text/plain; charset=utf-8\n\n{\"error\":\"Selector update error: Proxy does not exist\"}\n\n~\n$ curl \"http://127.0.0.1:8080/proxies/GLOBAL\" -XPUT -d '{ \"name\": \"Proxy\" }' -i\nHTTP/1.1 204 No Content\n*/\n\nexport async function fetchProxies(config) {\n  const { url, init } = getURLAndInit(config);\n  const res = await fetch(url + endpoint, init);\n  return await res.json();\n}\n\nexport async function requestToSwitchProxy(apiConfig, name1, name2) {\n  const body = { name: name2 };\n  const { url, init } = getURLAndInit(apiConfig);\n  const fullURL = `${url}${endpoint}/${name1}`;\n  return await fetch(fullURL, {\n    ...init,\n    method: 'PUT',\n    body: JSON.stringify(body),\n  });\n}\n\nexport async function requestDelayForProxy(\n  apiConfig,\n  name,\n  latencyTestUrl = 'http://www.gstatic.com/generate_204'\n) {\n  const { url, init } = getURLAndInit(apiConfig);\n  const qs = `timeout=5000&url=${latencyTestUrl}`;\n  const fullURL = `${url}${endpoint}/${name}/delay?${qs}`;\n  return await fetch(fullURL, init);\n}\n\nexport async function fetchProviderProxies(config) {\n  const { url, init } = getURLAndInit(config);\n  const res = await fetch(url + '/providers/proxies', init);\n  if (res.status === 404) {\n    return { providers: {} };\n  }\n  return await res.json();\n}\n\nexport async function updateProviderByName(config, name) {\n  const { url, init } = getURLAndInit(config);\n  const options = { ...init, method: 'PUT' };\n  return await fetch(url + '/providers/proxies/' + name, options);\n}\n\nexport async function healthcheckProviderByName(config, name) {\n  const { url, init } = getURLAndInit(config);\n  const options = { ...init, method: 'GET' };\n  return await fetch(\n    url + '/providers/proxies/' + name + '/healthcheck',\n    options\n  );\n}\n","import { atom } from 'recoil';\n/* import { ProxyItem, ProxiesMapping, DelayMapping } from 'src/store/types'; */\nimport {\n  DispatchFn,\n  FormattedProxyProvider,\n  GetStateFn,\n  ProxiesMapping,\n  ProxyItem,\n  ProxyProvider,\n  State,\n  StateProxies,\n  SwitchProxyCtxItem,\n} from 'src/store/types';\nimport { ClashAPIConfig } from 'src/types';\n\nimport * as connAPI from '../api/connections';\nimport * as proxiesAPI from '../api/proxies';\nimport { getAutoCloseOldConns, getLatencyTestUrl } from './app';\n\nexport const initialState: StateProxies = {\n  proxies: {},\n  delay: {},\n  groupNames: [],\n  showModalClosePrevConns: false,\n};\n\nconst noop = () => null;\n\n// see all types:\n// https://github.com/Dreamacro/clash/blob/master/constant/adapters.go\n\n// const ProxyTypeBuiltin = ['DIRECT', 'GLOBAL', 'REJECT'];\n// const ProxyGroupTypes = ['Fallback', 'URLTest', 'Selector', 'LoadBalance'];\n// const ProxyTypes = ['Shadowsocks', 'Snell', 'Socks5', 'Http', 'Vmess'];\n\nexport const NonProxyTypes = [\n  'Direct',\n  'Fallback',\n  'Reject',\n  'Selector',\n  'URLTest',\n  'LoadBalance',\n  'Unknown',\n];\n\nexport const getProxies = (s: State) => s.proxies.proxies;\nexport const getDelay = (s: State) => s.proxies.delay;\nexport const getProxyGroupNames = (s: State) => s.proxies.groupNames;\nexport const getProxyProviders = (s: State) => s.proxies.proxyProviders || [];\nexport const getDangleProxyNames = (s: State) => s.proxies.dangleProxyNames;\nexport const getShowModalClosePrevConns = (s: State) =>\n  s.proxies.showModalClosePrevConns;\n\nexport function fetchProxies(apiConfig: ClashAPIConfig) {\n  return async (dispatch: any, getState: any) => {\n    const [proxiesData, providersData] = await Promise.all([\n      proxiesAPI.fetchProxies(apiConfig),\n      proxiesAPI.fetchProviderProxies(apiConfig),\n    ]);\n\n    const {\n      providers: proxyProviders,\n      proxies: providerProxies,\n    } = formatProxyProviders(providersData.providers);\n    const proxies = { ...providerProxies, ...proxiesData.proxies };\n    const [groupNames, proxyNames] = retrieveGroupNamesFrom(proxies);\n\n    const delayPrev = getDelay(getState());\n    const delayNext = { ...delayPrev };\n\n    for (let i = 0; i < proxyNames.length; i++) {\n      const name = proxyNames[i];\n      const { history } = proxies[name] || { history: [] };\n      const h = history[history.length - 1];\n      if (h && typeof h.delay === 'number') {\n        delayNext[name] = { number: h.delay };\n      }\n    }\n\n    // proxies that are not from a provider\n    const dangleProxyNames = [];\n    for (const v of proxyNames) {\n      if (!providerProxies[v]) dangleProxyNames.push(v);\n    }\n\n    dispatch('store/proxies#fetchProxies', (s: State) => {\n      s.proxies.proxies = proxies;\n      s.proxies.groupNames = groupNames;\n      s.proxies.delay = delayNext;\n      s.proxies.proxyProviders = proxyProviders;\n      s.proxies.dangleProxyNames = dangleProxyNames;\n    });\n  };\n}\n\nexport function updateProviderByName(apiConfig: ClashAPIConfig, name: string) {\n  return async (dispatch: DispatchFn) => {\n    try {\n      await proxiesAPI.updateProviderByName(apiConfig, name);\n    } catch (x) {\n      // ignore\n    }\n    // should be optimized\n    // but \\_()_/\n    dispatch(fetchProxies(apiConfig));\n  };\n}\n\nasync function healthcheckProviderByNameInternal(\n  apiConfig: ClashAPIConfig,\n  name: string\n) {\n  try {\n    await proxiesAPI.healthcheckProviderByName(apiConfig, name);\n  } catch (x) {\n    // ignore\n  }\n}\n\nexport function healthcheckProviderByName(\n  apiConfig: ClashAPIConfig,\n  name: string\n) {\n  return async (dispatch: DispatchFn) => {\n    await healthcheckProviderByNameInternal(apiConfig, name);\n    // should be optimized\n    // but \\_()_/\n    await dispatch(fetchProxies(apiConfig));\n  };\n}\n\nasync function closeGroupConns(\n  apiConfig: ClashAPIConfig,\n  groupName: string,\n  exceptionItemName: string\n) {\n  const res = await connAPI.fetchConns(apiConfig);\n  if (!res.ok) {\n    console.log('unable to fetch all connections', res.statusText);\n    /* throw new Error(); */\n  }\n  const json = await res.json();\n  const connections = json.connections;\n  const idsToClose = [];\n  for (const conn of connections) {\n    if (\n      // include the groupName\n      conn.chains.indexOf(groupName) > -1 &&\n      // but not include the itemName\n      conn.chains.indexOf(exceptionItemName) < 0\n    ) {\n      idsToClose.push(conn.id);\n    }\n  }\n\n  await Promise.all(\n    idsToClose.map((id) => connAPI.closeConnById(apiConfig, id).catch(noop))\n  );\n}\n\nfunction resolveChain(\n  proxies: ProxiesMapping,\n  groupName: string,\n  itemName: string\n) {\n  const chain = [itemName, groupName];\n\n  let child: ProxyItem;\n  let childKey = itemName;\n  while ((child = proxies[childKey]) && child.now) {\n    chain.unshift(child.now);\n    childKey = child.now;\n  }\n  return chain;\n}\n\nasync function switchProxyImpl(\n  dispatch: DispatchFn,\n  getState: GetStateFn,\n  apiConfig: ClashAPIConfig,\n  groupName: string,\n  itemName: string\n) {\n  try {\n    const res = await proxiesAPI.requestToSwitchProxy(\n      apiConfig,\n      groupName,\n      itemName\n    );\n    if (res.ok === false) {\n      throw new Error(`failed to switch proxy: res.statusText`);\n    }\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.log(err, 'failed to swith proxy');\n    throw err;\n  }\n\n  dispatch(fetchProxies(apiConfig));\n  const autoCloseOldConns = getAutoCloseOldConns(getState());\n  if (autoCloseOldConns) {\n    // use fresh state\n    const proxies = getProxies(getState());\n    // no wait\n    closePrevConns(apiConfig, proxies, { groupName, itemName });\n  }\n\n  /* dispatch('showModalClosePrevConns', (s: GlobalState) => { */\n  /*   s.proxies.showModalClosePrevConns = true; */\n  /*   s.proxies.switchProxyCtx = { to: { groupName, itemName } }; */\n  /* }); */\n}\n\nfunction closeModalClosePrevConns() {\n  return (dispatch: DispatchFn) => {\n    dispatch('closeModalClosePrevConns', (s: State) => {\n      s.proxies.showModalClosePrevConns = false;\n    });\n  };\n}\n\nfunction closePrevConns(\n  apiConfig: ClashAPIConfig,\n  proxies: ProxiesMapping,\n  switchTo: SwitchProxyCtxItem\n) {\n  // we must have fetched the proxies before\n  // so the proxies here is fresh\n  /* const proxies = s.proxies.proxies; */\n  const chain = resolveChain(proxies, switchTo.groupName, switchTo.itemName);\n  closeGroupConns(apiConfig, switchTo.groupName, chain[0]);\n}\n\nfunction closePrevConnsAndTheModal(apiConfig: ClashAPIConfig) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const s = getState();\n    const switchTo = s.proxies.switchProxyCtx?.to;\n    if (!switchTo) {\n      dispatch(closeModalClosePrevConns());\n      return;\n    }\n\n    // we must have fetched the proxies before\n    // so the proxies here is fresh\n    const proxies = s.proxies.proxies;\n    closePrevConns(apiConfig, proxies, switchTo);\n\n    dispatch('closePrevConnsAndTheModal', (s: State) => {\n      s.proxies.showModalClosePrevConns = false;\n      s.proxies.switchProxyCtx = undefined;\n    });\n  };\n}\n\nexport function switchProxy(\n  apiConfig: ClashAPIConfig,\n  groupName: string,\n  itemName: string\n) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    // switch proxy asynchronously\n    switchProxyImpl(dispatch, getState, apiConfig, groupName, itemName).catch(\n      noop\n    );\n\n    // optimistic UI update\n    dispatch('store/proxies#switchProxy', (s) => {\n      const proxies = s.proxies.proxies;\n      if (proxies[groupName] && proxies[groupName].now) {\n        proxies[groupName].now = itemName;\n      }\n    });\n  };\n}\n\nfunction requestDelayForProxyOnce(apiConfig: ClashAPIConfig, name: string) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const latencyTestUrl = getLatencyTestUrl(getState());\n    const res = await proxiesAPI.requestDelayForProxy(\n      apiConfig,\n      name,\n      latencyTestUrl\n    );\n    let error = '';\n    if (res.ok === false) {\n      error = res.statusText;\n    }\n    const { delay } = await res.json();\n\n    const delayPrev = getDelay(getState());\n    const delayNext = {\n      ...delayPrev,\n      [name]: {\n        error,\n        number: delay,\n      },\n    };\n\n    dispatch('requestDelayForProxyOnce', (s) => {\n      s.proxies.delay = delayNext;\n    });\n  };\n}\n\nexport function requestDelayForProxy(apiConfig: ClashAPIConfig, name: string) {\n  return async (dispatch: DispatchFn) => {\n    await dispatch(requestDelayForProxyOnce(apiConfig, name));\n  };\n}\n\nexport function requestDelayForProxies(\n  apiConfig: ClashAPIConfig,\n  names: string[]\n) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const proxyNames = getDangleProxyNames(getState());\n\n    const works = names\n      // remove names that are provided by proxy providers\n      .filter((p) => proxyNames.indexOf(p) > -1)\n      .map((p) => dispatch(requestDelayForProxy(apiConfig, p)));\n    await Promise.all(works);\n    await dispatch(fetchProxies(apiConfig));\n  };\n}\n\nexport function requestDelayAll(apiConfig: ClashAPIConfig) {\n  return async (dispatch: DispatchFn, getState: GetStateFn) => {\n    const proxyNames = getDangleProxyNames(getState());\n    await Promise.all(\n      proxyNames.map((p) => dispatch(requestDelayForProxy(apiConfig, p)))\n    );\n    const proxyProviders = getProxyProviders(getState());\n    // one by one\n    for (const p of proxyProviders) {\n      await healthcheckProviderByNameInternal(apiConfig, p.name);\n    }\n    await dispatch(fetchProxies(apiConfig));\n  };\n}\n\nfunction retrieveGroupNamesFrom(proxies: Record<string, ProxyItem>) {\n  let groupNames = [];\n  let globalAll: string[];\n  const proxyNames = [];\n  for (const prop in proxies) {\n    const p = proxies[prop];\n    if (p.all && Array.isArray(p.all)) {\n      groupNames.push(prop);\n      if (prop === 'GLOBAL') {\n        globalAll = p.all;\n      }\n    } else if (NonProxyTypes.indexOf(p.type) < 0) {\n      proxyNames.push(prop);\n    }\n  }\n  if (globalAll) {\n    // Put GLOBAL in the end\n    globalAll.push('GLOBAL');\n    // Sort groups according to its index in GLOBAL group\n    groupNames = groupNames\n      .map((name) => [globalAll.indexOf(name), name])\n      .sort((a, b) => a[0] - b[0])\n      .map((group) => group[1]);\n  }\n  return [groupNames, proxyNames];\n}\n\ntype ProvidersRaw = {\n  [key: string]: ProxyProvider;\n};\n\nfunction formatProxyProviders(\n  providersInput: ProvidersRaw\n): {\n  providers: Array<FormattedProxyProvider>;\n  proxies: { [key: string]: ProxyItem };\n} {\n  const keys = Object.keys(providersInput);\n  const providers = [];\n  const proxies = {};\n  for (let i = 0; i < keys.length; i++) {\n    const provider: ProxyProvider = providersInput[keys[i]];\n    if (provider.name === 'default' || provider.vehicleType === 'Compatible') {\n      continue;\n    }\n    const proxiesArr = provider.proxies;\n    const names = [];\n    for (let j = 0; j < proxiesArr.length; j++) {\n      const proxy = proxiesArr[j];\n      proxies[proxy.name] = proxy;\n      names.push(proxy.name);\n    }\n\n    // mutate directly\n    provider.proxies = names;\n    providers.push(provider);\n  }\n\n  return {\n    providers,\n    proxies,\n  };\n}\n\nexport const actions = {\n  requestDelayForProxies,\n  closeModalClosePrevConns,\n  closePrevConnsAndTheModal,\n};\n\nexport const proxyFilterText = atom({\n  key: 'proxyFilterText',\n  default: '',\n});\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"_2ueF0jmjym\",\"content\":\"UZ5fqyDCOb\"};","var startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\tvar result = startup();\n\t[180,331,170,869,641,237,981,507,497,736].map(__webpack_require__.E);\n\treturn result;\n};"],"sourceRoot":""}